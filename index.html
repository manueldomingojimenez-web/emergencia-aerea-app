<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema Gesti√≥n Emergencia A√©rea</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div id="app">
        <!-- HEADER -->
        <header class="app-header">
            <h1>üõ°Ô∏è Sistema de Gesti√≥n - Emergencia A√©rea</h1>
            <div class="user-info">
                <span id="userName">Agente - AENA</span>
            </div>
        </header>

        <!-- PESTA√ëAS PRINCIPALES -->
        <nav class="main-tabs">
            <button class="tab-btn active" data-tab="altas">üìù Altas</button>
            <button class="tab-btn" data-tab="consultas">üîç Consultas/Modificaciones</button>
            <button class="tab-btn" data-tab="dashboard">üìä Dashboard</button>
        </nav>

        <!-- CONTENIDO PRINCIPAL -->
        <main class="app-main">
            <!-- PESTA√ëA ALTAS -->
            <section id="altas" class="tab-content active">
                <div class="alta-container">
                    <h2>Registro Completo - Sistema de Validaci√≥n</h2>
                    
                    <!-- PROGRESO -->
                    <div class="progreso-pasos">
                        <div class="paso ${this.pasoActual === 1 ? 'activo' : ''} ${this.paso1Validado ? 'completado' : ''}" data-paso="1">
                            <span class="numero-paso">1</span>
                            <span class="texto-paso">Datos Familiar</span>
                        </div>
                        <div class="paso ${this.pasoActual === 2 ? 'activo' : ''} ${this.paso2Validado ? 'completado' : ''}" data-paso="2">
                            <span class="numero-paso">2</span>
                            <span class="texto-paso">Datos Afectado</span>
                        </div>
                        <div class="paso ${this.pasoActual === 3 ? 'activo' : ''}" data-paso="3">
                            <span class="numero-paso">3</span>
                            <span class="texto-paso">Guardar</span>
                        </div>
                    </div>

                    <!-- PASO 1: DATOS FAMILIAR -->
                    <div id="paso-familiar" class="form-paso activo">
                        <h3>üë• Paso 1: Datos del Familiar</h3>
                        <div class="form-grid">
                            <!-- TODOS LOS CAMPOS DEL FAMILIAR AQU√ç -->
                            <div class="form-group">
                                <label for="Num_Control_Familiar">N¬∫ Control Familia *</label>
                                <input type="text" id="Num_Control_Familiar" class="form-input" required>
                            </div>
                            <div class="form-group">
                                <label for="Apellidos">Apellidos *</label>
                                <input type="text" id="Apellidos" class="form-input" required>
                            </div>
                            <!-- ... resto de campos familiar -->
                        </div>
                        <div class="acciones-paso">
                            <button class="btn-siguiente" onclick="app.validarPasoFamiliar()">‚úÖ Validar y Continuar</button>
                        </div>
                    </div>

                    <!-- PASO 2: DATOS AFECTADO -->
                    <div id="paso-afectado" class="form-paso">
                        <h3>üë§ Paso 2: Datos del Afectado</h3>
                        <div class="form-grid">
                            <!-- TODOS LOS CAMPOS DEL AFECTADO AQU√ç -->
                            <div class="form-group">
                                <label for="V_Apellidos">Apellidos Afectado *</label>
                                <input type="text" id="V_Apellidos" class="form-input" required>
                            </div>
                            <div class="form-group">
                                <label for="V_Nombre">Nombre Afectado *</label>
                                <input type="text" id="V_Nombre" class="form-input" required>
                            </div>
                            <!-- ... resto de campos afectado -->
                        </div>
                        <div class="acciones-paso">
                            <button class="btn-anterior" onclick="app.retrocederPaso()">‚¨ÖÔ∏è Anterior</button>
                            <button class="btn-siguiente" onclick="app.validarPasoAfectado()">‚úÖ Validar y Continuar</button>
                        </div>
                    </div>

                    <!-- PASO 3: CONFIRMACI√ìN -->
                    <div id="paso-confirmacion" class="form-paso">
                        <h3>üíæ Paso 3: Confirmar y Guardar</h3>
                        <div class="resumen-datos">
                            <div class="resumen-seccion">
                                <h4>üìã Resumen - Datos del Familiar</h4>
                                <div id="resumen-familiar" class="datos-resumen"></div>
                            </div>
                            <div class="resumen-seccion">
                                <h4>üë§ Resumen - Datos del Afectado</h4>
                                <div id="resumen-afectado" class="datos-resumen"></div>
                            </div>
                        </div>
                        <div class="acciones-paso">
                            <button class="btn-anterior" onclick="app.retrocederPaso()">‚¨ÖÔ∏è Anterior</button>
                            <button class="btn-guardar" onclick="app.guardarRegistroCompleto()">üíæ Guardar Registro</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- PESTA√ëA CONSULTAS -->
            <section id="consultas" class="tab-content">
                <div class="consultas-container">
                    <h2>üîç Consultas y Modificaciones</h2>
                    
                    <!-- BARRA B√öSQUEDA -->
                    <div class="search-section">
                        <div class="search-bar">
                            <input type="text" id="inputBusqueda" placeholder="Buscar por: N¬∫ Vuelo, Apellidos, N¬∫ Control Familia...">
                            <button id="btnBuscar" class="btn-primary">üîç Buscar</button>
                        </div>
                        <div class="search-filters">
                            <select id="filtroTipo">
                                <option value="todo">Todos los registros</option>
                                <option value="activos">Solo activos</option>
                                <option value="inactivos">Dados de baja</option>
                            </select>
                        </div>
                    </div>

                    <!-- RESULTADOS -->
                    <div id="resultadosBusqueda" class="resultados-container">
                        <div class="placeholder-text">
                            <p>Ingrese t√©rminos de b√∫squeda para ver resultados</p>
                            <p class="demo-hint">Modo demo: Busque "IB1234", "Garc√≠a" o "FAM-001" para ver ejemplos</p>
                        </div>
                    </div>

                    <!-- DETALLE COMPLETO (se muestra al seleccionar registro) -->
                    <div id="detalle-completo" class="detalle-container" style="display: none;">
                        <div class="detalle-header">
                            <h3>üìÑ Detalle Completo del Registro</h3>
                            <button class="btn-cerrar" onclick="app.ocultarDetalle()">‚úï</button>
                        </div>
                        <div class="detalle-content">
                            <!-- Aqu√≠ se cargar√°n din√°micamente todos los datos -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- PESTA√ëA DASHBOARD -->
            <section id="dashboard" class="tab-content">
                <div class="dashboard-container">
                    <h2>üìä Dashboard - Situaci√≥n Actual</h2>
                    <!-- Contenido del dashboard igual que antes -->
                </div>
            </section>
        </main>

        <footer class="app-footer">
            <p>Sistema de Gesti√≥n para Emergencias A√©reas - v3.0 | Flujo de validaci√≥n por pasos</p>
        </footer>
    </div>

    <script src="js/app.js"></script>
</body>
</html>
