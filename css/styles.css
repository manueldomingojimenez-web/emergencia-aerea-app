:root {
  --primary-color: #2c3e50;
  --secondary-color: #3498db;
  --accent-color: #e74c3c;
  --success-color: #27ae60;
  --warning-color: #f39c12;
  --light-gray: #ecf0f1;
  --medium-gray: #bdc3c7;
  --dark-gray: #7f8c8d;
  --text-color: #2c3e50;
  --background-color: #f8f9fa;
  --white: #ffffff;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: var(--text-color);
  line-height: 1.6;
  min-height: 100vh;
}

#app { min-height: 100vh; display: flex; flex-direction: column; }

/* HEADER */
.app-header {
  background: var(--white);
  color: var(--primary-color);
  padding: 1rem 2rem;
  display: flex; justify-content: space-between; align-items: center;
  box-shadow: 0 2px 20px rgba(0,0,0,0.1);
  border-bottom: 4px solid var(--secondary-color);
}
.app-header h1 { font-size: 1.5rem; font-weight: 700; }
.user-info { font-size: 0.9rem; color: var(--dark-gray); font-weight: 500; }

/* PESTAÑAS PRINCIPALES */
.main-tabs {
  display: flex; background: var(--white);
  border-bottom: 2px solid var(--secondary-color);
  padding: 0 2rem; box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}
.tab-btn {
  padding: 1rem 2rem; border: none; background: transparent; cursor: pointer;
  font-size: 1rem; font-weight: 600; color: var(--dark-gray);
  border-bottom: 3px solid transparent; transition: all 0.3s ease; position: relative;
}
.tab-btn:hover { background: var(--light-gray); color: var(--primary-color); }
.tab-btn.active, .tab-btn.active:hover {
  color: var(--secondary-color); border-bottom-color: var(--secondary-color); background: var(--white);
}

/* CONTENIDO PRINCIPAL */
.app-main { flex: 1; padding: 2rem; max-width: 1400px; margin: 0 auto; width: 100%; }
.tab-content { display: none; animation: fadeIn 0.5s ease; }
.tab-content.active { display: block; }
@keyframes fadeIn { from {opacity:0; transform:translateY(10px);} to {opacity:1; transform:translateY(0);} }

/* CONTENEDOR ALTAS */
.alta-container {
  background: var(--white); border-radius: 12px; box-shadow: 0 8px 30px rgba(0,0,0,0.12); overflow: hidden;
}
.alta-container h2 {
  background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
  color: var(--white); padding: 1.5rem 2rem; margin: 0; font-size: 1.4rem;
}

/* PROGRESO DE PASOS */
.progreso-pasos {
  display: flex; justify-content: center; padding: 2rem;
  background: var(--light-gray); border-bottom: 1px solid var(--medium-gray);
}
.paso {
  display: flex; flex-direction: column; align-items: center;
  padding: 0 2rem; position: relative; cursor: pointer; transition: all 0.3s ease;
}
.numero-paso {
  width: 50px; height: 50px; border-radius: 50%; background: var(--medium-gray);
  color: var(--white); display:flex; align-items:center; justify-content:center;
  font-weight: bold; margin-bottom: .5rem; transition: all .3s ease; border: 3px solid var(--medium-gray);
}
.texto-paso { font-size: .9rem; color: var(--dark-gray); font-weight: 500; transition: all .3s ease; }
.paso.activo .numero-paso { background: var(--secondary-color); border-color: var(--secondary-color); transform: scale(1.1); }
.paso.activo .texto-paso { color: var(--secondary-color); font-weight: 600; }
.paso.completado .numero-paso { background: var(--success-color); border-color: var(--success-color); }
.paso.completado .texto-paso { color: var(--success-color); font-weight: 600; }
.paso.bloqueado { opacity: .5; pointer-events: none; }

/* PESTAÑAS INTERNAS (Familiar/Afectado) */
.pestanas-internas {
  display: flex; gap: 8px; border-bottom: 2px solid var(--light-gray); padding: 0 2rem; margin-top: .25rem;
}
.pestana-interna {
  padding: 10px 16px; border: 2px solid transparent; background: var(--light-gray);
  border-radius: 6px 6px 0 0; cursor: pointer; font-weight: 600; color: var(--dark-gray); transition: all .2s ease;
}
.pestana-interna:hover { background: #dfe6e9; }
.pestana-interna.activa {
  background: #fff; color: var(--secondary-color);
  border-color: var(--secondary-color); border-bottom-color: #fff;
}
.contenido-pestana { display: none; padding: 2rem; }
.contenido-pestana.activa { display: block; }

/* FORMULARIOS POR PASOS */
.form-paso { display: none; }
.form-paso.activo { display: block; animation: slideIn .5s ease; }
@keyframes slideIn { from {opacity:0; transform:translateX(20px);} to {opacity:1; transform:translateX(0);} }
.form-paso h3 { color: var(--primary-color); margin-bottom: 1.5rem; padding: 0 2rem; padding-top: 2rem; font-size: 1.3rem; }

.form-grid {
  display: grid; grid-template-columns: repeat(2, minmax(280px, 1fr));
  gap: 1rem 1.25rem; align-items: start; padding: 0 2rem 1.5rem;
}
@media (max-width: 768px) {
  .form-grid { grid-template-columns: 1fr; }
}
@media (min-width: 1200px) {
  .form-grid { grid-template-columns: repeat(3, minmax(280px, 1fr)); }
}

.form-group { display:flex; flex-direction: column; gap: 6px; min-width: 0; }
.form-group label { display: inline-block; line-height: 1.2; font-weight: 600; color: var(--text-color); font-size: .95rem; }
.form-group label.required::after { content: " *"; color: var(--accent-color); }

.form-input {
  width: 100%; min-width: 0; height: 44px; line-height: 1.2;
  padding: 10px 12px; border: 2px solid var(--light-gray); border-radius: 6px; background: var(--white);
  font: inherit; box-shadow: none; transition: all .2s ease;
}
.form-input:focus { outline:none; border-color: var(--secondary-color); box-shadow: 0 0 0 3px rgba(52,152,219,.1); }
textarea.form-input { height: auto; min-height: 96px; resize: vertical; }

input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
input[type="number"] { -moz-appearance: textfield; }
select.form-input { height: 44px; padding-right: 36px; }

.checkbox-wrap { padding-left: 2rem; }
.checkbox-label { display:flex; align-items:center; gap:.5rem; cursor:pointer; font-weight:500; }

/* ACCIONES DE PASO */
.acciones-paso {
  display:flex; justify-content: space-between; align-items:center;
  padding: 2rem; border-top: 1px solid var(--light-gray); margin-top: 1rem; background: var(--light-gray);
}
.btn-anterior, .btn-siguiente, .btn-guardar, .btn-validar {
  padding: .75rem 2rem; border:none; border-radius:6px; cursor:pointer; font-size:1rem; font-weight:600;
  transition: all .3s ease; display:flex; align-items:center; gap:.5rem;
}
.btn-anterior { background: var(--medium-gray); color: var(--white); }
.btn-anterior:hover { background: var(--dark-gray); }
.btn-siguiente, .btn-validar { background: var(--success-color); color: var(--white); }
.btn-siguiente:hover, .btn-validar:hover { background:#229954; transform: translateY(-2px); box-shadow: 0 4px 12px rgba(34,153,84,.3); }
.btn-guardar { background: var(--secondary-color); color: var(--white); }
.btn-guardar:hover { background:#2980b9; transform: translateY(-2px); box-shadow: 0 4px 12px rgba(52,152,219,.3); }

/* GUARDAR OCULTO POR DEFECTO */
#btnGuardarFinal { display: none; }

/* RESUMEN CONFIRMACIÓN */
.resumen-datos { padding: 0 2rem; }
.resumen-seccion {
  margin-bottom:2rem; padding:1.5rem; background: var(--light-gray);
  border-radius:8px; border-left:4px solid var(--secondary-color);
}
.resumen-seccion h4 { color: var(--primary-color); margin-bottom:1rem; font-size:1.1rem; }
.resumen-grid {
  display:grid; grid-template-columns: repeat(2, minmax(280px,1fr)); gap:1rem;
}
@media (max-width: 768px) {
  .resumen-grid { grid-template-columns: 1fr; }
}
.resumen-item { padding:.5rem 0; border-bottom:1px solid var(--medium-gray); }
.resumen-item:last-child { border-bottom:none; }
.resumen-item strong { color: var(--primary-color); display:inline-block; min-width:180px; }

/* FOOTER */
.app-footer {
  background: var(--primary-color); color: var(--white);
  text-align: center; padding: 1.5rem; margin-top: auto;
}
